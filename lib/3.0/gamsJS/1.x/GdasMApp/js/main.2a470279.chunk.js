(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],[,,,function(e,t,a){e.exports={overlayContainer:"styles_overlayContainer__56JDe",overlay:"styles_overlay__3OZ3X",overlayActive:"styles_overlayActive__3Yhj5"}},,function(e,t,a){e.exports={btnHolder:"styles_btnHolder__3j3Xu",btnHover:"styles_btnHover__3LQta",iconHolder:"styles_iconHolder__3xEkE"}},function(e,t,a){e.exports={overlayTopBar:"styles_overlayTopBar__1UePH",overlayCard:"styles_overlayCard__1oUag",overlayContainer:"styles_overlayContainer__1rJ78"}},,,function(e,t,a){e.exports=a(15)},,,,,function(e,t){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(8),i=a.n(o),c=a(1),l=function(){var e=window.location.pathname;if(e.includes("/archive/objects/")){var t=e.indexOf("/archive/objects/"),a=(e=e.slice(t+"/archive/objects/".length,e.length)).indexOf("/");return-1===a?e:e.slice(0,a)}var r=(e=e.slice(1,e.length)).indexOf("/");return-1===r?e:e.slice(0,r)},s=function(e){return JSON.parse(JSON.stringify(e))},u=function(e){var t=e.widgetDef,a=e.setWidgetData;return n.a.useEffect((function(){t.lifecycle=t.lifecycle?t.lifecycle:"develop";var e=t.lifecycle;if(t.dataSourcesSpec){if("develop"===e&&console.debug("GamsWidget-DataProvider: dataSourceSpecification provided for the widget: ",t),t.dataSourcesSpec.sources.length>1)throw new RangeError("GamsWidget currently supports exactly one source inside the widgetDef.dataSourceSpec.sources array. Make sure to pass in the correct count.");var r=t.dataSourcesSpec.sources[0];if(!d(r))return console.error("GamsWidget-DataProvider: Validation of data source object failed. Aborting operations: ",r);if(r.gamsDigitalObj){var n=r.gamsDigitalObj.pid?r.gamsDigitalObj.pid:l(),o="".concat(window.location.origin,"/archive/objects/").concat(n),i="";if(r.gamsDigitalObj.datastream&&r.gamsDigitalObj.service)return console.error("GamsWidget-DataProvider: Got a dataSource object where both a datastream and a service is defined. Please make sure to define either one: ",r);if(r.gamsDigitalObj.datastream)i=o+"/datastreams/".concat(r.gamsDigitalObj.datastream,"/content");else switch(r.gamsDigitalObj.contentModel){case"GML":i=o+"/methods/sdef:GML/".concat(r.gamsDigitalObj.service?r.gamsDigitalObj.service:"getJSON");break;case"TEI":i=o+"/methods/sdef:TEI/".concat(r.gamsDigitalObj.service?r.gamsDigitalObj.service:"get");break;case"Context":i=o+"/methods/sdef:Context/".concat(r.gamsDigitalObj.service?r.gamsDigitalObj.service:"get");break;case"Query":i=o+"/methods/sdef:Query/".concat(r.gamsDigitalObj.service?r.gamsDigitalObj.service:"getJSON");break;default:return console.error("GamsWidget-DataProvider: Unsupported-ContentModel-Error at building the request url for specified content model: ",r.gamsDigitalObj.contentModel,r)}"develop"===e&&console.debug("GamsWidget-DataProvider: Sending request for widget data to the dataspecification to: ",i),fetch(i).then((function(n){n.json().then((function(r){var n=s(t);n.data=r,"develop"===e&&console.debug("GamsWidget-DataProvider: Succesfully got data - setting now data property of widget definition. Got data: ",r),a(n)})).catch((function(e){console.error("GamsWidget-DataProvider: Error parsing data as JSON from datasource: ",r),console.error(e)}))})).catch((function(e){console.error("GamsWidget-DataProvider: Error getting data from url: ",i),console.error(e)}))}}else"develop"===e&&console.debug("GamsWidget-DataProvider: No dataSourceSpec provided for the widget - Assuming not needed for widget definition: ",t),a(s(t))}),[t,a]),null},d=function(e){var t=Object.values(e).filter((function(e){return e||!1}));return 1===t.length?(console.info("GamsWidget-DataProvider: Validation of Datasource successfull: ",e),!0):0===t.length?(console.error("GamsWidget-DataProvider: All properties of given DataSource validated false. Please make sure to assign one correct property to the given datasource object: ",e),!1):(console.error("GamsWidget-DataProvider: More than one property is defined in given datasource. Make sure to define only one: ",e),!1)},f=function(e){var t=e.setDefinition,a=void 0===t?void 0:t,r=e.children,o=void 0===r?void 0:r,i=e.globalPropName,c=e.datastream,s=e.objectPidRef;return n.a.useEffect((function(){if(a){if(window[i])return a(window[i]);var e=s||l();if(c){var t="".concat(window.location.origin,"/archive/objects/").concat(e,"/datastreams/").concat(c,"/content");fetch(t).then((function(e){e.text().then((function(e){try{a(JSON.parse(e))}catch(t){}})).catch((function(e){console.error("GamsWidget- WidgetDefProvider: Error stringifying the datastream at: ",t),console.error(e)}))})).catch((function(e){console.error("GamsWidget- WidgetDefProvider: Error at getting config data from url: ",t),console.error(e)}))}else{console.error("GamsWidget- WidgetDefProvider: No global window property nor datastream defined for retrieving the widget's definition. Returning dummy-definition instead. (But the app might crash).");var r={name:"Dummy-Test Widget",lifecycle:"develop"};console.error("GamsWidget- WidgetDefProvider: Set dummy definition: ",r),a(r)}}}),[a,i,c,s]),o||null},m=function(e){var t=e.WidgetDefProvider,a=e.WidgetDataProvider,r=e.globalPropName,o=e.datastream,i=e.children,l=n.a.useState(void 0),s=Object(c.a)(l,2),d=s[0],m=s[1],p=n.a.useState(void 0),v=Object(c.a)(p,2),g=v[0],b=v[1];return n.a.useEffect((function(){if(!n.a.Children.only(i))throw new TypeError("More ore less than one child was passed down to <GamsWidget/>. Please make sure to place exactly one component as GamsWidget component.");d&&(d.lifecycle?"develop"!==d.lifecycle&&"production"!==d.lifecycle||console.debug("GamsWidget: WidgetDefinition's lifecycle was configured as:'",d.lifecycle,"' Set the lifecycle to 'deploy' if you want to remove the console messages."):console.debug("GamsWidget: WidgetDefinition's lifecycle not set. Defaulting to:'develop'. Set the lifecycle to 'deploy' if you want to remove the console messages."))}),[d]),n.a.createElement(n.a.Fragment,null,n.a.cloneElement(i,{widgetDef:g}),t?n.a.createElement(t.Component,Object.assign({},t.props,{globalPropName:r,datastream:o,setDefinition:m})):n.a.createElement(f,{setDefinition:m,globalPropName:r,datastream:o}),d?a?n.a.createElement(a.Component,Object.assign({widgetDef:d,setWidgetData:b},a.props)):n.a.createElement(u,{widgetDef:d,setWidgetData:b}):null)},p=a(4),v=function(e){var t=e.content;return n.a.createElement("div",null,t)},g=a(3),b=a.n(g),y=a(5),h=a.n(y),E=function(e){var t=e.handleBtnClick;return n.a.createElement("div",{className:[h.a.btnHolder,h.a.btnHover].join(" "),onClick:t||void 0},n.a.createElement("div",{className:h.a.iconHolder},n.a.createElement("i",{className:"fas fa-road"})))},O=function(e){var t=e.children,a=e.overlayContent,o=e.desktopLeftcol,i=e.overlayVisible,l=void 0!==i&&i,s=e.getOverlayVisible,u=void 0===s?void 0:s,d=Object(r.useState)(l),f=Object(c.a)(d,2),m=f[0],p=f[1],g=Object(r.useState)(void 0),y=Object(c.a)(g,2),h=y[0],O=y[1];return Object(r.useEffect)((function(){if(!h){var e=Math.max(document.documentElement.clientWidth,window.innerWidth||0);O(e)}}),[]),Object(r.useEffect)((function(){void 0!==l&&p(l)}),[l]),h?h>1200?n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-3"},o),n.a.createElement("div",{className:"col-md-9"},t||null)):n.a.createElement("div",{className:b.a.overlayContainer},n.a.createElement("div",{className:[b.a.overlay,m?b.a.overlayActive:""].join(" ")},n.a.createElement(v,{content:a})),n.a.createElement("div",{className:b.a.overlay},n.a.createElement(E,{handleBtnClick:function(){var e=!m;p(e),u&&u(e)}})),n.a.createElement("div",{className:b.a.overlay},t||null)):null},j=a(6),k=a.n(j),w=function(e){var t=e.homeLink,a=e.onSearchClick,r=(e.onTopTileClick,e.handleOverlayVisible),o=e.children,i=void 0===o?void 0:o;return n.a.createElement("div",{className:"".concat(k.a.overlayContainer," container-fluid")},n.a.createElement("div",{className:"".concat(k.a.overlayTopBar," text-center overlay-menu--icon-bar")},n.a.createElement("a",{href:t,className:"btn btn-light text-dark border"},n.a.createElement("i",{className:"fas fa-home"})),n.a.createElement("button",{className:"btn btn-light text-dark border",onClick:function(){a(),r(!1)}},n.a.createElement("i",{className:"fas fa-search-location"})),n.a.createElement("button",{className:"btn btn-light text-dark border"},n.a.createElement("i",{className:"fas fa-question"})),n.a.createElement("button",{className:"btn btn-light text-dark border",onClick:function(){var e=document.querySelector("#root");e?(e.requestFullscreen(),e.style.background="white"):console.error("Could not select elem with id + ".concat("#root","."))}},n.a.createElement("i",{className:"fas fa-arrows-alt"}))),i)},D=function(e){var t=e.isChecked,a=e.label,r=e.onClick;return n.a.createElement("div",{className:"form-check"},n.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"defaultCheck1",onClick:r,checked:t}),n.a.createElement("label",{className:"form-check-label"},a))};function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}var S=function(e){var t=e.selectMap,a=e.onChange,r=void 0===a?void 0:a;return n.a.createElement("select",{onChange:r?function(e){var a=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},t);if(Object.keys(a).forEach((function(e){return a[e]=!0})),"undefined"===e.currentTarget.value)return r(e.currentTarget.value,a);a[e.currentTarget.value]=!1,r(e.currentTarget.value,a)}:void 0,className:"form-control"},n.a.createElement("option",{value:"undefined",key:"000_BsSelect"},"Alle"),Object.keys(t).map((function(e){return n.a.createElement("option",{selected:!t[e],value:e,key:"".concat(e,"_BsSelect")},e||"Leere Gruppe")})))},P={appContainer:"".concat("gams-geo--","app"),geoControlContainer:"".concat("gams-geo--","geo-control")},F=function(e){var t=e.tabs,a=e.headContent,r=e.children,o=n.a.useState(Object.keys(t)[0]),i=Object(c.a)(o,2),l=i[0],s=i[1];return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"bs-tabs--header"},n.a.createElement("ul",{className:"nav nav-tabs"},Object.keys(t).map((function(e){return n.a.createElement("li",{className:"nav-item",style:{cursor:"pointer"},onClick:function(){return s(e)}},n.a.createElement("a",{className:"nav-link ".concat(e===l?"active":"")},e))}))),a),n.a.createElement("div",{className:"bs-tabs--content"},r,t[l]))},x=function(e){var t=e.categoryLayerMap,a=void 0===t?void 0:t,r=e.toggleLayer,o=e.filterGroupMap,i=e.handleSetFilterGroupMap,c=e.gdasTypeMap,l=e.handleTypeSelection,s=e.dateFilterInterval,u=e.handleSetDateInterval,d=e.allAvailable,f=e.handlePublicAvailable,m=e.filterDateless,p=e.handleFilterDateless;return n.a.createElement("div",{className:P.geoControlContainer},n.a.createElement("div",null,n.a.createElement(F,{tabs:{Inhaltlich:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"...nach ",n.a.createElement("b",null,"(Ober-)Kategorie")),a?Object.keys(a).map((function(e){return e||console.warn("Unnamed category detected in the layerCategoryMap. Make sure to assign a valid category to eact feature.category property."),n.a.createElement(D,{key:"".concat(e,"_button"),isChecked:a[e],label:e||"Leere Kategorie",onClick:function(){return r(e)}})})):void 0,n.a.createElement("br",null),n.a.createElement("p",null,"...nach ",n.a.createElement("b",null,"(Unter-)Gruppe"),":"),o?n.a.createElement(S,{selectMap:o,onChange:function(e,t){return i(t)}}):void 0,n.a.createElement("br",null),n.a.createElement("p",null,"....nach ",n.a.createElement("b",null,"Geografie"),":"),c?n.a.createElement(S,{selectMap:c,onChange:function(e,t){return l(t)}}):null),Zeitlich:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"...nach ",n.a.createElement("b",null,"Jahr"),":"),n.a.createElement("input",{style:{background:"orange"},value:s.min,onChange:function(e){return u({min:e.currentTarget.value,max:s.max})},type:"range",min:"1900",max:"2100"}),n.a.createElement("div",null,s.min),n.a.createElement("input",{value:s.max,onChange:function(e){return u({min:s.min,max:e.currentTarget.value})},type:"range",min:"1900",max:"2100"}),n.a.createElement("div",null,s.max),n.a.createElement("br",null),n.a.createElement("p",null,"...nach ",n.a.createElement("b",null,"Vollst\xe4ndigkeit"),":"),n.a.createElement(D,{isChecked:!m,label:"Zeige Orte ohne Datum",onClick:function(){return p(!m)}})),Zugang:n.a.createElement(n.a.Fragment,null,n.a.createElement("p",null,"...nach ",n.a.createElement("b",null,"Zug\xe4nglichkeit"),":"),n.a.createElement("button",{className:"btn btn-".concat(d?"light":"warning"),onClick:function(){return f(!d)}},"\xd6ffentlich")),Analytisch:n.a.createElement(n.a.Fragment,null)},headContent:n.a.createElement(n.a.Fragment,null,n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement("h3",null,"Auswahl einschr\xe4nken"))})))},N=a(2),_=a.n(N),L=n.a.createContext(void 0),M=n.a.memo((function(e){var t=e.onMapClick,a=void 0===t?void 0:t,o=e.children,i=void 0===o?void 0:o,l=e.config,s=void 0===l?void 0:l,u=e.selectedFeature,d=void 0===u?void 0:u,f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=Object(r.useRef)(void 0),a=Object(r.useState)(!1),n=Object(c.a)(a,2),o=n[0],i=n[1];Object(r.useEffect)((function(){if(console.info("%cStart initialization process of the leaflet map.","color:green"),!t.current){var a=_.a.map("map",{zoomControl:!1}).setView(e&&e.startView?e.startView:[51.505,-.09],e&&e.startZoom?e.startZoom:4);t.current=a,l(t.current)}}),[]);var l=function(t){console.info("%cLeaflet initializing the map","color: green"),_.a.tileLayer("".concat(e?e.tileLayerSrc:"https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png"),{attribution:"".concat(e&&e.attribution?e.attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors')}).addTo(t),i(!0)};return{L_mapRef:t,initiated:o}}(s),m=f.L_mapRef,p=f.initiated,v={refs:{L_mapRef:m,L:_.a},defaultMethods:{onEachFeatureDefault:function(e,t){var a=e.properties,r='\n      <div style="max-width:50vw">\n        <h6>'.concat(a.title,"</h6>\n        <hr> </hr>\n        ").concat(a.imageSrc?'<img src="'.concat(a.imageSrc,'"> </img>'):"","\n        <p>").concat(a.description,"</p>\n        <p>Datum: ").concat(a.date,'</p>\n        <a href="').concat(a.ref,'">Details</a>\n      </div>\n      ');t.bindPopup(r)},pointToLayerDefault:function(e,t){return _.a.circleMarker(t,{radius:6,fillColor:"black",color:"grey",weight:1,opacity:1,fillOpacity:.5})},filterDefault:function(e,t){return!0}},testData:G};return Object(r.useEffect)((function(){m.current&&(console.info("%cLeaflet useEffect: Map succesfully initiated.","color:green"),a&&m.current.on("click",(function(){return a})))}),[a,p]),Object(r.useEffect)((function(){if(d){if(!d.properties.layerRef)return console.debug("No layer associated with clicked feature. ".concat(d,". Make Sure to associate property selectedFeature.properties.layer with the leaflet layer in the onEachFeature function.")),console.debug(d);d.properties.layerRef.openPopup()}}),[d]),n.a.createElement(n.a.Fragment,null,n.a.createElement(L.Provider,{value:v},n.a.createElement("div",{id:"map",className:"leaflet-map-container"}),i&&p?i:void 0))})),G={type:"FeatureCollection",features:[{type:"Feature",properties:{title:"Dummy Feature from Layer component 01.",description:"(Only displayed when no data was given)",ref:"o.erla.sty2",date:"15.02.2019",layer:"test",filterTerm:"politisch"},geometry:{type:"Point",coordinates:[.30468749999999,.908902047770255]}},{type:"Feature",properties:{title:"Dummy Feature from Layer component 02",description:"(Only displayed when no data was given)",ref:"o.erla.sty2",date:"15.02.2019",imageSrc:"https://picsum.photos/id/237/200/200",layer:"test",filterTerm:"vegan"},geometry:{type:"Point",coordinates:[.30468749999999,2.908902047770255]}}]},T=function(e){var t=e.gdasFeatureCollection,a=e.onEachFeature,o=void 0===a?void 0:a,i=e.style,c=e.pointToLayer,l=void 0===c?void 0:c,s=e.filter,u=Object(r.useContext)(L).refs.L_mapRef,d=Object(r.useContext)(L),f=Object(r.useRef)(void 0);Object(r.useEffect)((function(){if(u.current&&d){var e=o||d.defaultMethods.onEachFeatureDefault,a=l||d.defaultMethods.pointToLayerDefault,r=t,n=s||d.defaultMethods.filterDefault;m(r,e,i,a,n)}}),[t,u.current,s,o,i,l]),Object(r.useEffect)((function(){return function(){f.current&&u.current.removeLayer(f.current)}}),[]);var m=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0,o=_.a.geoJSON(e,{style:a,pointToLayer:r,onEachFeature:t,filter:n});f.current&&u.current.removeLayer(f.current),o.addTo(u.current),f.current=o};return n.a.createElement(n.a.Fragment,null)},W={App:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,null,t||n.a.createElement(M,null,n.a.createElement(T,{gdasFeatureCollection:A})))},Map:M,GeoJsonLayer:T,UserPosition:function(e){var t=e.getUserLoc,a=void 0===t?void 0:t,o=e.locateUserSwitch,i=void 0===o?void 0:o,c=Object(r.useContext)(L).refs.L_mapRef,l=Object(r.useRef)(void 0),s=Object(r.useRef)(void 0);Object(r.useEffect)((function(){c.current&&a&&c.current.on("locationfound",(function(e){return u?u(e):void 0})).on("locationerror",(function(){return alert("Location access denied.")}))}),[c.current]),Object(r.useEffect)((function(){c.current&&void 0!==i&&c.current.locate()}),[i]);var u=function(e){l.current&&c.current.removeLayer(l.current),s.current&&c.current.removeLayer(s.current),c.current.setView([e.latitude,e.longitude],14);var t=_.a.marker([e.latitude,e.longitude]).bindPopup("Aktuelle Position"),r=_.a.circle([e.latitude,e.longitude],e.accuracy/2,{weight:1,color:"blue",fillColor:"#cacaca",fillOpacity:.2});c.current.addLayer(t),l.current=t,c.current.addLayer(r),s.current=r,a&&a(e)};return n.a.createElement(n.a.Fragment,null)}},A={type:"FeatureCollection",features:[{type:"Feature",geometry:{type:"Point",coordinates:[9.123321,10.123333]},properties:{filterTerm:"exampleFeatureCollection_filterTerm",layer:"exampleFeatureCollection_layer",title:"exampleFeatureCollection_title",description:"exampleFeatureCollection_desc",address:"exampleFeatureCollection_gmaps",date:"exampleFeatureCollection_date",ref:"exampleFeatureCollection_ref",detailLink:"exampleFeatureCollection_detailLink",osm:"exampleFeatureCollection_osm",popupImgSrc:"exampleFeatureCollection_poupImgSrc",publicAvailable:"exampleFeatureCollection_publicAvailable"}}]},I=function(e,t){var a={};return e.features.forEach((function(e){a[e.properties[t]]=!0})),a},R=function(e,t){var a=I(e,t),r=[];return Object.keys(a).map((function(e){r.push({type:"FeatureCollection",features:[]})})),e.features.forEach((function(e){Object.keys(a).map((function(a,n){e.properties[t]===a&&r[n].features.push(e)}))})),r},U=(a(14),{common:{disperseFeatureCollection:R,retrieveUniquesBoolMap:I},leaflet:{getL:function(){return _.a},buildFilter:function(e){return function(t,a){if(!t)return!0;if(!t.properties)return console.warn("Can't filter a feature without properties. Analyzed feature: "),console.warn(t),!0;if(e){var r=!1;if(e.forEach((function(e){if(e.filterFunc&&!1===e.filterFunc(t.properties[e.featurePropName],t))return void(r=!0)})),r)return!1}return!0}},buildPointToLayer:function(e){return function(t,a){return e(t,a,_.a)}},buildOnEachFeature:function(e){return function(t,a){return e(t,a,_.a)}}}});function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function B(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?J(a,!0).forEach((function(t){Object(p.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var V=function(e){var t=e.widgetDef,a=n.a.useState(t?t.data:void 0),r=Object(c.a)(a,2),o=r[0],i=r[1],l=n.a.useState(void 0),s=Object(c.a)(l,2),u=(s[0],s[1]),d=n.a.useState(void 0),f=Object(c.a)(d,2),m=f[0],p=f[1],v=n.a.useState(!1),g=Object(c.a)(v,2),b=g[0],y=g[1],h=n.a.useState(void 0),E=Object(c.a)(h,2),j=E[0],k=E[1],D=n.a.useState(void 0),C=Object(c.a)(D,2),S=C[0],F=C[1],N=n.a.useState(void 0),_=Object(c.a)(N,2),L=_[0],M=_[1],G=n.a.useState(void 0),T=Object(c.a)(G,2),A=T[0],I=T[1],R=n.a.useState({min:1900,max:2100}),J=Object(c.a)(R,2),V=J[0],q=J[1],H=n.a.useState(!0),z=Object(c.a)(H,2),Z=z[0],Q=z[1],K=n.a.useState(!1),X=Object(c.a)(K,2),Y=X[0],$=X[1],ee=n.a.useState(void 0),te=Object(c.a)(ee,2),ae=te[0],re=te[1];n.a.useEffect((function(){t&&t.data&&(i(t.data),k(U.common.disperseFeatureCollection(t.data,"layer")),F(U.common.retrieveUniquesBoolMap(t.data,"layer")),I(U.common.retrieveUniquesBoolMap(t.data,"filterTerm")),re(U.common.retrieveUniquesBoolMap(t.data,"type")))}),[t]);var ne=U.leaflet.buildPointToLayer((function(e,t,a){var r={radius:6,fillColor:"#ff7800",color:"grey",weight:1,opacity:1,fillOpacity:.5};if(S){var n=Object.keys(S).indexOf(e.properties.layer);if(-1!==n){var o="";switch(n){case 0:o="orange";break;case 1:o="tomato";break;case 2:o="green";break;case 3:o="blue";break;case 4:o="purple";break;case 5:o="white";break;case 6:o="yellow";break;case 7:o="#ccddff";break;case 8:o="#ffb3ff";break;case 9:o="#df9fbf";break;case 10:o="#99cc00";break;default:o="darkgreen"}r.fillColor=o}}return a.circleMarker(t,r)})),oe=U.leaflet.buildOnEachFeature((function(e,t,a){var r=e.properties,n=e.geometry.coordinates[0],o=e.geometry.coordinates[1],i='\n    <div style="max-width:50vw">\n    '.concat(r.imageSrc?'<img style="max-width:150px" src="'.concat(r.imageSrc,'"> </img>'):"","\n      <hr> </hr>\n      <h6>").concat(r.title,"</h6>\n      <p>Adresse: ").concat(r.address,"</p>\n      <p>Typ: ").concat(r.type," - ").concat(r.publicAvailable,'</p>\n      <a target="_blank" href="').concat(r.detailLink,'">Zur Detailseite</a>\n      <p><a target="_blank" href="http://maps.google.de/maps?q=').concat(o,",").concat(n,"&ll=").concat(o,",").concat(n,'&z=12">Google Route hierhin</a></p>\n    </div>\n    ');t.bindPopup(i)}));n.a.useEffect((function(){if(A){var e={featurePropName:"date",filterFunc:function(e,t){if((e=e)&&1!==e.length){var a;if(4===e.length)a=parseInt(e);else{if(10!==e.length)throw console.error("The date value of given gdas feature is invalid. Given: ",t),new TypeError("The date value of given gdas feature is invalid.");a=parseInt(e.slice(6,10))}return!!(V.min<=a&&a<=V.max)&&void 0}}},t={featurePropName:"date",filterFunc:function(e,t){if("-"===(e=e)&&Y)return!1}},a={featurePropName:"publicAvailable",filterFunc:function(e,t){if(!Z)return!!("\xd6ffentlich zug\xe4nglich"===e)&&void 0}},r={featurePropName:"filterTerm",filterFunc:function(e,t){if(A&&e){if("-"===e)return!1;var a=A[e],r=!0;if(Object.keys(A).forEach((function(e){A[e]||(r=!1)})),r);else if(a)return!1}}},n={featurePropName:"type",filterFunc:function(e,t){if(ae){var a=ae[e],r=!0;if(Object.keys(ae).forEach((function(e){ae[e]||(r=!1)})),r);else if(a)return!1}}},o=U.leaflet.buildFilter([a,e,t,n,r]);o&&M((function(){return o}))}}),[A,V,Z,Y,ae]);var ie=function(e){y(e)},ce=function(e){if(""!==e.max&&""!==e.min)return e.min>e.max?{min:parseInt(e.min),max:parseInt(e.min)}:void q((function(){return{min:parseInt(e.min),max:parseInt(e.max)}}))},le=function(e){if(!S)return console.error("the categoryLayerMap is undefined. Cannot toggle layer therefore.");var t=B({},S);t[e]=!S[e],F(t)};return n.a.createElement("div",{className:P.appContainer},n.a.createElement(O,{getOverlayVisible:ie,overlayVisible:b,desktopLeftcol:n.a.createElement(x,{categoryLayerMap:S,toggleLayer:le,filterGroupMap:A,handleSetFilterGroupMap:function(e){return I(B({},e))},gdasTypeMap:ae,handleTypeSelection:function(e){return re(B({},e))},dateFilterInterval:V,handleSetDateInterval:ce,allAvailable:Z,handlePublicAvailable:Q,filterDateless:Y,handleFilterDateless:$}),overlayContent:n.a.createElement(w,{handleOverlayVisible:ie,homeLink:"https://gams.uni-graz.at",onSearchClick:function(){if(void 0===m)return p(!0);p(!m)},onTopTileClick:function(){}},n.a.createElement(x,{categoryLayerMap:S,toggleLayer:le,filterGroupMap:A,handleSetFilterGroupMap:function(e){return I(B({},e))},gdasTypeMap:ae,handleTypeSelection:function(e){return re(B({},e))},dateFilterInterval:V,handleSetDateInterval:ce,allAvailable:Z,handlePublicAvailable:Q,filterDateless:Y,handleFilterDateless:$}))},t&&o?n.a.createElement(W.App,null,n.a.createElement(W.Map,{config:t.gui},j?j.map((function(e){return S&&S[e.features[0].properties.layer]?n.a.createElement(W.GeoJsonLayer,{pointToLayer:ne,gdasFeatureCollection:e,filter:L,onEachFeature:oe}):void 0})):void 0,n.a.createElement(W.UserPosition,{locateUserSwitch:m,getUserLoc:function(e){var t="POINT (".concat(e.latitude," ").concat(e.longitude,")");u(t)}}))):null))},q=function(){return n.a.createElement(m,{globalPropName:"GAMS_WIDGET_GDASMAPP",datastream:"GAMS_WIDGET_GDASMAPP"},n.a.createElement(V,null))};i.a.render(n.a.createElement(q,null),document.getElementById("GAMS_WIDGET_GDASMAPP"))}],[[9,1,2]]]);
//# sourceMappingURL=main.2a470279.chunk.js.map